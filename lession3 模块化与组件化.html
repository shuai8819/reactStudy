<html>
<head>
  <title>lession3 模块化与组件化</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/604762 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="853"/>
<h1>lession3 模块化与组件化</h1>

<div>
<span><div><h3 style="text-align: justify;"><span style="font-size: 14pt; color: rgb(1, 1, 1); font-family: 微软雅黑; font-weight: bold;">模块</span></h3><ol style="margin-top: 0mm; margin-bottom: 0mm; margin-left: 0mm; padding-left: 0pt;"><li style="margin-left: 36pt; margin-right: 0pt; padding-left: 3pt; text-indent: 0pt; font-size: 10.5pt;"><div><span style="font-size: 11pt; color: rgb(0, 0, 0); font-family: ΢���ź�;">理解：向外提供特定功能的js程序, 一般就是一个js文件</span></div></li><li style="margin-left: 36pt; margin-right: 0pt; padding-left: 3pt; text-indent: 0pt; font-size: 11pt;"><div><span style="font-size: 11pt; color: rgb(0, 0, 0); font-family: ΢���ź�;">为什么要拆成模块：随着业务逻辑增加，代码越来越多且复杂。</span></div></li><li style="margin-left: 36pt; margin-right: 0pt; padding-left: 3pt; text-indent: 0pt; font-size: 11pt;"><div><span style="font-size: 11pt; color: rgb(0, 0, 0); font-family: ΢���ź�;">作用：复用js, 简化js的编写, 提高js运行效率.</span></div></li></ol><h3 style="text-align: justify;"><span style="font-size: 14pt; color: rgb(1, 1, 1); font-family: 微软雅黑; font-weight: bold;">组件</span></h3><ol style="margin-top: 0mm; margin-bottom: 0mm; margin-left: 0mm; padding-left: 0pt;"><li style="margin-left: 36pt; margin-right: 0pt; padding-left: 3pt; text-indent: 0pt; font-size: 10.5pt;"><div><span style="font-size: 11pt; color: rgb(0, 0, 0); font-family: ΢���ź�;">理解：用来实现局部功能效果的代码和资源的集合(html/css/js/image等等)</span></div></li><li style="margin-left: 36pt; margin-right: 0pt; padding-left: 3pt; text-indent: 0pt; font-size: 11pt;"><div><span style="font-size: 11pt; color: rgb(0, 0, 0); font-family: ΢���ź�;">为什么要用组件： 一个界面的功能更复杂</span></div></li><li style="margin-left: 36pt; margin-right: 0pt; padding-left: 3pt; text-indent: 0pt; font-size: 11pt;"><div><span style="font-size: 11pt; color: rgb(0, 0, 0); font-family: ΢���ź�;">作用：复用编码, 简化项目编码, 提高运行效率</span></div></li></ol><h3><span style="font-size: 14pt; font-family: 微软雅黑; font-weight: bold;">模块化</span></h3><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 11pt; color: rgb(0, 0, 0); font-family: 微软雅黑;-en-paragraph:true;">当应用的</span><span style="font-size: 11pt; color: rgb(0, 0, 0); font-family: 微软雅黑;-en-paragraph:true;">js</span><span style="font-size: 11pt; color: rgb(0, 0, 0); font-family: 微软雅黑;-en-paragraph:true;">都以模块来编写的</span><span style="font-size: 11pt; color: rgb(0, 0, 0); font-family: 微软雅黑;-en-paragraph:true;">,</span> <span style="font-size: 11pt; color: rgb(0, 0, 0); font-family: 微软雅黑;-en-paragraph:true;">这个应用就是一个模块化的应用</span></div><div style="margin-top: 1em; margin-bottom: 1em;"></div><h3><span style="font-size: 14pt; font-family: 微软雅黑; font-weight: bold;">组件化</span></h3><div style="margin-top: 1em; margin-bottom: 1em;"><span style="line-height: 150%;"><span style="text-indent: 36pt; font-size: 11pt; line-height: 150%; color: rgb(0, 0, 0); font-family: 微软雅黑;-en-paragraph:true;">当应用是以多组件的方式实现</span><span style="text-indent: 36pt; font-size: 11pt; line-height: 150%; color: rgb(0, 0, 0); font-family: 微软雅黑;-en-paragraph:true;">,</span> <span style="text-indent: 36pt; font-size: 11pt; line-height: 150%; color: rgb(0, 0, 0); font-family: 微软雅黑;-en-paragraph:true;">这个应用就是一个组件化的应用</span></span></div></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="text-indent: 36pt; font-size: 11pt; line-height: 150%; color: rgb(0, 0, 0); font-family: 微软雅黑;-en-paragraph:true;">1、函数式组件</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="text-indent: 36pt; font-size: 11pt; line-height: 150%; color: rgb(0, 0, 0); font-family: 微软雅黑;-en-paragraph:true;">   执行了</span><span style="background-color: rgb(30, 30, 30); font-size: 14px; white-space: pre; color: rgb(214, 214, 214); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 19px;">ReactDOM</span><span style="background-color: rgb(30, 30, 30); font-size: 14px; white-space: pre; color: rgb(214, 214, 214); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 19px;">.</span><span style="background-color: rgb(30, 30, 30); font-size: 14px; white-space: pre; color: rgb(214, 214, 214); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 19px;">render</span><span style="background-color: rgb(30, 30, 30); font-size: 14px; white-space: pre; color: rgb(214, 214, 214); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 19px;">(</span><span style="background-color: rgb(30, 30, 30); font-size: 14px; white-space: pre; color: rgb(214, 214, 214); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 19px;">&lt;</span><span style="background-color: rgb(30, 30, 30); font-size: 14px; white-space: pre; color: rgb(214, 214, 214); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 19px;">FunComponent</span><span style="background-color: rgb(30, 30, 30); font-size: 14px; white-space: pre; color: rgb(214, 214, 214); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 19px;">/&gt;</span><span style="background-color: rgb(30, 30, 30); font-size: 14px; white-space: pre; color: rgb(214, 214, 214); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 19px;">,</span><span style="background-color: rgb(30, 30, 30); font-size: 14px; white-space: pre; color: rgb(214, 214, 214); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 19px;">ele</span><span style="background-color: rgb(30, 30, 30); font-size: 14px; white-space: pre; color: rgb(214, 214, 214); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 19px;">)</span><span style="text-indent: 36pt; font-size: 11pt; line-height: 150%; color: rgb(0, 0, 0); font-family: 微软雅黑;-en-paragraph:true;">后，发生了什么</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="text-indent: 36pt; font-size: 11pt; line-height: 150%; color: rgb(0, 0, 0); font-family: 微软雅黑;-en-paragraph:true;">           1）React解析组件标签，找到了FunCompontent组件。（组件的命名首字母要大写）</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="text-indent: 36pt; font-size: 11pt; line-height: 150%; color: rgb(0, 0, 0); font-family: 微软雅黑;-en-paragraph:true;">           2）发现组件是用函数定义的，随后调用该函数，将返回的虚拟DOM转为真实DOM，随后呈现在页面中。</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><br/></div><div style="margin-top: 1em; margin-bottom: 1em;"><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="line-height: 150%;"><font style="font-size: 12pt;">&lt;script type=&quot;text/babel&quot;&gt;</font></span></div><div><span style="line-height: 150%;"><font style="font-size: 12pt;">// 创建函数式组件</font></span></div><div><span style="line-height: 150%;"><font style="font-size: 12pt;">    function FunComponent(){</font></span></div><div><span style="line-height: 150%;"><font style="font-size: 12pt;">        // 自定义函数里的this是undefined，因为babel编译后开启了严格模式，严格模式下，函数里的this指向都是undefined</font></span></div><div><span style="line-height: 150%;"><font style="font-size: 12pt;">        console.log(this)</font></span></div><div><span style="line-height: 150%;"><font style="font-size: 12pt;">        return &lt;h1&gt;测试函数式组件（简单组件）使用方法&lt;/h1&gt;</font></span></div><div><span style="line-height: 150%;"><font style="font-size: 12pt;">    }</font></span></div><div><span style="line-height: 150%;"><font style="font-size: 12pt;">    // 将组件渲染到页面</font></span></div><div><span style="line-height: 150%;"><font style="font-size: 12pt;">    let ele = document.getElementById('myDiv')</font></span></div><div><span style="line-height: 150%;"><font style="font-size: 12pt;">    ReactDOM.render(&lt;FunComponent/&gt;,ele)</font></span></div><div><span style="line-height: 150%;"><font style="font-size: 12pt;">    </font></span></div><div><span style="line-height: 150%;"><font style="font-size: 12pt;">&lt;/script&gt;</font></span></div></div><div><br/></div></div><div style="margin-top: 1em; margin-bottom: 1em;"></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="text-indent: 36pt; font-size: 11pt; line-height: 150%; color: rgb(0, 0, 0); font-family: 微软雅黑;-en-paragraph:true;">2、类式组件</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="text-indent: 36pt; font-size: 11pt; line-height: 150%; color: rgb(0, 0, 0); font-family: 微软雅黑;-en-paragraph:true;">执行了</span><font style="color: rgb(214, 214, 214);"><span style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;">ReactDOM</span><span style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;">.</span><span style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;">render</span><span style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;">(</span><span style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;">&lt;</span><span style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;">MyComponent</span><span style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;">/&gt;</span><span style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;">,</span><span style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;">ele</span><span style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;">)</span></font><span style="text-indent: 36pt; font-size: 11pt; line-height: 150%; color: rgb(0, 0, 0); font-family: 微软雅黑;-en-paragraph:true;">后，发生了什么</span><br/></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="text-indent: 36pt; font-size: 11pt; line-height: 150%; color: rgb(0, 0, 0); font-family: 微软雅黑;-en-paragraph:true;">   1、React解析组件标签，找到了MyComponent组件</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="text-indent: 36pt; font-size: 11pt; line-height: 150%; color: rgb(0, 0, 0); font-family: 微软雅黑;-en-paragraph:true;">   2、发现组件是使用类定义的，随后new出来该类的实例，并通过该实例调用到原型上的render方法。</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="text-indent: 36pt; font-size: 11pt; line-height: 150%; color: rgb(0, 0, 0); font-family: 微软雅黑;-en-paragraph:true;">   3、将render返回的虚拟DOM转化为实际DOM，随后呈现到页面当中</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 12pt;"><br/></font></div><div style="margin-top: 1em; margin-bottom: 1em;"><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">&lt;script type=&quot;text/babel&quot;&gt;</font></div><div><font style="font-size: 12pt;">//   创建一个函数式组件</font></div><div><font style="font-size: 12pt;">class MyComponent extends React.Component{</font></div><div><font style="font-size: 12pt;">    // render是放在--MyComponent的原型对象上，供实例使用</font></div><div><font style="font-size: 12pt;">    // render中的this指向--MyComponent的实例对象 &lt;=&gt; MyComponent组件实例对象</font></div><div><font style="font-size: 12pt;">    render(){</font></div><div><font style="font-size: 12pt;">        return &lt;h1&gt;类定义的组件（适用于【复杂组件】的定义）&lt;/h1&gt;</font></div><div><font style="font-size: 12pt;">    }</font></div><div><font style="font-size: 12pt;">}</font></div><div><font style="font-size: 12pt;">// 渲染到页面</font></div><div><font style="font-size: 12pt;">let ele = document.getElementById('myDiv')</font></div><div><font style="font-size: 12pt;">ReactDOM.render(&lt;MyComponent/&gt;,ele)</font></div><div><font style="font-size: 12pt;">    </font></div><div><font style="font-size: 12pt;">    </font></div><div><font style="font-size: 12pt;">&lt;/script&gt;</font></div></div><br/></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 11pt;"><br/></span></div></span>
</div></body></html> 