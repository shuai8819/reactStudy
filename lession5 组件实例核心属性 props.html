<html>
<head>
  <title>lession5 组件实例核心属性 props</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/604762 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="857"/>
<h1>lession5 组件实例核心属性 props</h1>

<div>
<span><div><div>1、基本使用方法</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">&lt;script type=&quot;text/babel&quot;&gt;</font></div><div><font style="font-size: 12pt;">    // 创建组件</font></div><div><font style="font-size: 12pt;">    class MyComponent extends React.Component{</font></div><div><font style="font-size: 12pt;">        render(){</font></div><div><font style="font-size: 12pt;">            let {name,age,job}=this.props</font></div><div><font style="font-size: 12pt;">            return(</font></div><div><font style="font-size: 12pt;">                &lt;ul&gt;</font></div><div><font style="font-size: 12pt;">                    &lt;li&gt;{name}&lt;/li&gt;</font></div><div><font style="font-size: 12pt;">                    &lt;li&gt;{age}&lt;/li&gt;</font></div><div><font style="font-size: 12pt;">                    &lt;li&gt;{job}&lt;/li&gt;</font></div><div><font style="font-size: 12pt;">                &lt;/ul&gt;</font></div><div><font style="font-size: 12pt;">            )</font></div><div><font style="font-size: 12pt;">        }</font></div><div><font style="font-size: 12pt;">    }</font></div><div><font style="font-size: 12pt;">    // 渲染dom</font></div><div><font style="font-size: 12pt;">    let ele = document.getElementById('myDiv')</font></div><div><font style="font-size: 12pt;">    // 单一传入props参数</font></div><div><font style="font-size: 12pt;">    ReactDOM.render(&lt;MyComponent name='aabb' age='18' job='worker'/&gt;,ele)</font></div><div><font style="font-size: 12pt;">    // 批量传入props</font></div><div><font style="font-size: 12pt;">    let dataArr=[</font></div><div><font style="font-size: 12pt;">        {</font></div><div><font style="font-size: 12pt;">            name:'zs',</font></div><div><font style="font-size: 12pt;">            age:18,</font></div><div><font style="font-size: 12pt;">            job:'web'</font></div><div><font style="font-size: 12pt;">        },</font></div><div><font style="font-size: 12pt;">        {</font></div><div><font style="font-size: 12pt;">            name:'james',</font></div><div><font style="font-size: 12pt;">            age:37,</font></div><div><font style="font-size: 12pt;">            job:'palyer'</font></div><div><font style="font-size: 12pt;">        }</font></div><div><font style="font-size: 12pt;">    ]</font></div><div><font style="font-size: 12pt;">    ReactDOM.render(&lt;MyComponent {...dataArr[0]}/&gt;,document.getElementById('myDiv2'))</font></div><div><font style="font-size: 12pt;">    ReactDOM.render(&lt;MyComponent {...dataArr[1]}/&gt;,document.getElementById('myDiv3'))</font></div><div><font style="font-size: 12pt;">&lt;/script&gt;</font></div></div><div>2.props的默认值以及对类型的限制</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">&lt;script type=&quot;text/babel&quot;&gt;</font></div><div><font style="font-size: 12pt;">    // 创建组件</font></div><div><font style="font-size: 12pt;">    class MyComponent extends React.Component{</font></div><div><font style="font-size: 12pt;">        //</font> propTypes<font style="font-size: 12pt;">设置限制</font></div><div><font style="font-size: 12pt;">        static propTypes = {</font></div><div><font style="font-size: 12pt;">            name:PropTypes.string.isRequired, //限制name必传，且为字符串</font></div><div><font style="font-size: 12pt;">            job:PropTypes.string,//限制sex为字符串</font></div><div><font style="font-size: 12pt;">            age:PropTypes.number,//限制age为数值</font></div><div><font style="font-size: 12pt;">            speak:PropTypes.func,//限制speak为函数</font></div><div><font style="font-size: 12pt;">        }</font></div><div><font style="font-size: 12pt;">        //</font> defaultProps<font style="font-size: 12pt;">设置默认值</font></div><div><font style="font-size: 12pt;">        static defaultProps={</font></div><div><font style="font-size: 12pt;">            age:18,</font></div><div><font style="font-size: 12pt;">            job:'worker'</font></div><div><font style="font-size: 12pt;">        }</font></div><div><font style="font-size: 12pt;">        </font></div><div><font style="font-size: 12pt;">        </font></div><div><font style="font-size: 12pt;">        render(){</font></div><div><font style="font-size: 12pt;">            //props是只读的</font></div><div><font style="font-size: 12pt;">             this.props.name = 'jack' //此行代码会报错，因为props是只读的</font></div><div><font style="font-size: 12pt;">            let {name,age,job}=this.props</font></div><div><font style="font-size: 12pt;">            return(</font></div><div><font style="font-size: 12pt;">                &lt;ul&gt;</font></div><div><font style="font-size: 12pt;">                    &lt;li&gt;{name}&lt;/li&gt;</font></div><div><font style="font-size: 12pt;">                    &lt;li&gt;{age}&lt;/li&gt;</font></div><div><font style="font-size: 12pt;">                    &lt;li&gt;{job}&lt;/li&gt;</font></div><div><font style="font-size: 12pt;">                &lt;/ul&gt;</font></div><div><font style="font-size: 12pt;">            )</font></div><div><font style="font-size: 12pt;">        }</font></div><div><font style="font-size: 12pt;">  </font></div><div><font style="font-size: 12pt;">        </font></div><div><font style="font-size: 12pt;">    }</font></div><div><font style="font-size: 12pt;">    // 渲染dom</font></div><div><font style="font-size: 12pt;">    let ele = document.getElementById('myDiv')</font></div><div><font style="font-size: 12pt;">    // 单一传入props参数</font></div><div><font style="font-size: 12pt;">    ReactDOM.render(&lt;MyComponent name={123} speak={speak}/&gt;,ele)</font></div><div><font style="font-size: 12pt;">    function speak(){</font></div><div><font style="font-size: 12pt;">        console.log('我说话了');</font></div><div><font style="font-size: 12pt;">    }</font></div><div><font style="font-size: 12pt;">&lt;/script&gt;</font></div></div><div><b>3、props的简写方式 （上面实例2就是简写方式）</b></div><div><br/></div><div><b>4、构造函数  （在类组件中 基本不需要构造函数）</b></div><div>   <font style="font-size: 10pt;"> </font><span style="color: rgb(0, 0, 0); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Fira Sans&quot;, &quot;Droid Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.7;"><span style="line-height: 1.7; max-width: 42em; color: rgb(0, 0, 0); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Fira Sans&quot;, &quot;Droid Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><font style="font-size: 10pt;">通常，在 React 中，构造函数仅用于以下两种情况：</font></span></span></div><ul style="margin: 20px 0px 0px; padding: 0px 0px 0px 20px; list-style: disc; color: rgb(26, 26, 26); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Fira Sans&quot;, &quot;Droid Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><li style="margin: 10px 0px 0px; padding: 0px; box-sizing: inherit;"><div><font style="font-size: 10pt;">通过给 <span style="font-family: source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; background: rgba(255, 229, 100, 0.2); color: rgb(26, 26, 26); word-break: break-word;">this.state</span> 赋值对象来初始化<a href="https://zh-hans.reactjs.org/docs/state-and-lifecycle.html" style="background-color: rgba(187, 239, 253, 0.3); color: rgb(26, 26, 26); border-bottom: 1px solid rgba(0, 0, 0, 0.2);">内部 state</a>。</font></div></li><li style="margin: 10px 0px 0px; padding: 0px; box-sizing: inherit;"><div><font style="font-size: 10pt;">为<a href="https://zh-hans.reactjs.org/docs/handling-events.html" style="background-color: rgba(187, 239, 253, 0.3); color: rgb(26, 26, 26); border-bottom: 1px solid rgba(0, 0, 0, 0.2);">事件处理函数</a>绑定实例</font></div></li></ul><div><font style="font-size: 10pt;"><br/></font></div><div><span style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;"><font style="color: rgb(255, 70, 53);">构造器是否接收props，是否传递给super，取决于：是否希望在构造器中通过this访问 props</font></span></div><div><font style="font-size: 10pt;"><br/></font></div><div><font style="font-size: 10pt;"><span style="color: rgb(0, 0, 0); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Fira Sans&quot;, &quot;Droid Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">在 React 组件挂载之前，会调用它的构造函数。在为 <a href="http://react.component/">React.Component</a> 子类实现构造函数时，应在其他语句之前调用</span><span style="color: rgb(0, 0, 0); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Fira Sans&quot;, &quot;Droid Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"> </span><span style="font-family: source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; background: rgba(255, 229, 100, 0.2); color: rgb(26, 26, 26); word-break: break-word; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">super(props)</span><span style="color: rgb(0, 0, 0); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Fira Sans&quot;, &quot;Droid Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">。否则，</span><span style="font-family: source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; background: rgba(255, 229, 100, 0.2); color: rgb(26, 26, 26); word-break: break-word; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">this.props</span><span style="color: rgb(0, 0, 0); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Fira Sans&quot;, &quot;Droid Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"> </span><span style="color: rgb(0, 0, 0); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Fira Sans&quot;, &quot;Droid Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">在构造函数中可能会出现未定义的 bug。</span></font></div><div><font style="font-size: 10pt;"><span style="color: rgb(0, 0, 0); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Fira Sans&quot;, &quot;Droid Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><br/></span></font></div><div><font style="font-size: 10pt;"><span style="color: rgb(0, 0, 0); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Fira Sans&quot;, &quot;Droid Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><b>5、函数式组件中使用props</b></span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 10pt;">&lt;script type=&quot;text/babel&quot;&gt;</font></div><div><font style="font-size: 10pt;">// 创建函数式组件</font></div><div><font style="font-size: 10pt;">    function Preson(props){</font></div><div><font style="font-size: 10pt;">        // 通过传参方式传递显示的内容</font></div><div><font style="font-size: 10pt;">        console.log(props)</font></div><div><font style="font-size: 10pt;">        return (</font></div><div><font style="font-size: 10pt;">            &lt;ul&gt;</font></div><div><font style="font-size: 10pt;">                &lt;li&gt;姓名：{props.name}&lt;/li&gt;</font></div><div><font style="font-size: 10pt;">                &lt;li&gt;性别：{props.sex}&lt;/li&gt;</font></div><div><font style="font-size: 10pt;">                &lt;li&gt;年龄：{props.age}&lt;/li&gt;    </font></div><div><font style="font-size: 10pt;">            &lt;/ul&gt;</font></div><div><font style="font-size: 10pt;">        )</font></div><div><font style="font-size: 10pt;">    }</font></div><div><font style="font-size: 10pt;">    // propTypes设置限制</font></div><div><font style="font-size: 10pt;">    Preson.propTypes={</font></div><div><font style="font-size: 10pt;">        name:PropTypes.string.isRequired,</font></div><div><font style="font-size: 10pt;">        sex:PropTypes.string,</font></div><div><font style="font-size: 10pt;">        age:PropTypes.number</font></div><div><font style="font-size: 10pt;">    }</font></div><div><font style="font-size: 10pt;">    // defaultProps设置默认值</font></div><div><font style="font-size: 10pt;">    Preson.defaultProps={</font></div><div><font style="font-size: 10pt;">        age:19,</font></div><div><font style="font-size: 10pt;">        sex:'Man'</font></div><div><font style="font-size: 10pt;">    }</font></div><div><font style="font-size: 10pt;">    // 将组件渲染到页面</font></div><div><font style="font-size: 10pt;">    let ele = document.getElementById('myDiv')</font></div><div><font style="font-size: 10pt;">    ReactDOM.render(&lt;Preson name='zs' age={18} sex='男'/&gt;,ele)</font></div><div><font style="font-size: 10pt;">   </font></div><div><font style="font-size: 10pt;">&lt;/script&gt;</font></div></div></div></span>
</div></body></html> 