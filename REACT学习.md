<html>
<head>
  <title>Evernote Export</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/604762 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="593"/>

<div>
<span><div><font style="font-size: 14pt;"><br/></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">&lt;!-- 直接引入react 并简单渲染一个页面 --&gt;</font></div><div><font style="font-size: 14pt;">&lt;!DOCTYPE html&gt;</font></div><div><font style="font-size: 14pt;">&lt;html lang=&quot;en&quot;&gt;</font></div><div><font style="font-size: 14pt;">&lt;head&gt;</font></div><div><font style="font-size: 14pt;">    &lt;meta charset=&quot;UTF-8&quot;&gt;</font></div><div><font style="font-size: 14pt;">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</font></div><div><font style="font-size: 14pt;">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</font></div><div><font style="font-size: 14pt;">    &lt;title&gt;hello react&lt;/title&gt;</font></div><div><font style="font-size: 14pt;">&lt;/head&gt;</font></div><div><font style="font-size: 14pt;">&lt;body&gt;</font></div><div><font style="font-size: 14pt;">    &lt;!-- 容器 --&gt;</font></div><div><font style="font-size: 14pt;">    &lt;div id=&quot;myDiv&quot;&gt;&lt;/div&gt;</font></div><div><font style="font-size: 14pt;">&lt;/body&gt;</font></div><div><font style="font-size: 14pt;">&lt;!-- react核心库 --&gt;</font></div><div><font style="font-size: 14pt;">&lt;script src=&quot;./js/react.development.js&quot; &gt;&lt;/script&gt;</font></div><div><font style="font-size: 14pt;">&lt;!-- react-DOM 用于支持react操作DOM --&gt;</font></div><div><font style="font-size: 14pt;">&lt;script src=&quot;./js/react-dom.development. js&quot;&gt;&lt;/script&gt;</font></div><div><font style="font-size: 14pt;">&lt;!-- babel 将jsx转化为普通js --&gt;</font></div><div><font style="font-size: 14pt;">&lt;script src=&quot;./js/babel.min.js&quot;&gt;&lt;/script&gt;</font></div><div><font style="font-size: 14pt;">&lt;!-- type要写成 text/babel --&gt;</font></div><div><font style="font-size: 14pt;">&lt;script type=&quot;text/babel&quot;&gt;</font></div><div><font style="font-size: 14pt;">    let inner= &lt;h1&gt;hello React&lt;/h1&gt;</font></div><div><font style="font-size: 14pt;">    let ele = document.getElementById('myDiv')</font></div><div><font style="font-size: 14pt;">    ReactDOM.render(inner,ele)</font></div><div><font style="font-size: 14pt;">&lt;/script&gt;</font></div><div><font style="font-size: 14pt;">&lt;/html&gt;</font></div></div><div><span style="font-size: 14pt;"><a href="REACT学习_files/tset1.html"><img src="REACT学习_files/a698b7e64b438830b63a056626af7248.png" alt="tset1.html"></a></span><a href="REACT学习_files/js.zip"><img src="REACT学习_files/cd0f4f3d856f213c7882a236f49fd458.png" alt="js.zip"></a></div><div>关于虚拟DOM</div><div>1、虚拟dom本质是obj类型的对象</div><div>2、虚拟dom比较轻（无过多内置方法），真是dom比较重，因为虚拟dom是react内部在用，无需真实dom上那么多属性。</div><div>3、虚拟DOM最终会被React转化为真是Dom，呈现在页面上。</div></span>
</div>
<hr>
<a name="851"/>

<div>
<span><div><ol><li><div><span style="font-size: 11pt; font-family: ΢���ź�;">JSX全称:  JavaScript XML是</span><span style="color: unset; font-size: 11pt; text-indent: 0mm; font-family: ΢���ź�;">react定义的一种类似于XML的JS扩展语法: JS + XML本质是</span><span style="font-size: 11pt; font-family: Consolas; color: rgb(0, 16, 128); font-weight: bold;-en-paragraph:true;">React</span><span style="font-size: 11pt; font-family: Consolas; font-weight: bold;-en-paragraph:true;">.</span><span style="font-size: 11pt; font-family: Consolas; color: rgb(121, 94, 38); font-weight: bold;-en-paragraph:true;">createElement</span><span style="font-size: 11pt; font-family: Consolas; font-weight: bold;-en-paragraph:true;">(</span><span style="font-size: 11pt; font-family: Consolas; color: rgb(0, 16, 128); font-weight: bold;-en-paragraph:true;">component</span><span style="font-size: 11pt; font-family: Consolas; font-weight: bold;-en-paragraph:true;">, </span><span style="font-size: 11pt; font-family: Consolas; color: rgb(0, 16, 128); font-weight: bold;-en-paragraph:true;">props</span><span style="font-size: 11pt; font-family: Consolas; font-weight: bold;-en-paragraph:true;">, ...</span><span style="font-size: 11pt; font-family: Consolas; color: rgb(0, 16, 128); font-weight: bold;-en-paragraph:true;">children</span><span style="font-size: 11pt; font-family: Consolas; font-weight: bold;-en-paragraph:true;">)</span><span style="font-size: 11pt;-en-paragraph:true;">方法的语法糖</span><br/></div></li><li><div> jSX语法规则<br/></div></li></ol><div>1、定义虚拟DOM时，不要写引号。</div><div>2、标签中混入<font style="color: rgb(255, 0, 0);">JS表达式</font>时要用{}。</div><div>3、样式的类名指定不要用class要用className</div><div>4、内联样式，要用style={{key:value}}的形式去写</div><div>5、只有一个根标签</div><div>6、标签必须闭合</div><div>7、标签首字母</div><div>    1）若小写字母开头，则将该标签转为html中同名元素，若html中无该标签对应的元素名，则报错</div><div>    2）若大写字母开头，react就去渲染对应的组件，若组件未定义，则报错。</div></div><div><font color="#EB0073">一定注意区分：【JS语句】与【JS表达式】</font></div><div><span style="color: rgb(235, 0, 115);">  1.表达式：一个表达式会产生一个值。可以放在任何一个需要值的地方 如： 1==1</span></div><div><span style="color: rgb(235, 0, 115);">  2.语句（代码）：例如 if（）；for()；switch(){case：xxxx}</span></div><div><span style="color: rgb(235, 0, 115);"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">&lt;script type=&quot;text/babel&quot;&gt;</font></div><div><font style="font-size: 12pt;">    let val = '啊哈哈哈哈'</font></div><div><font style="font-size: 12pt;">    let name = 'test'</font></div><div><font style="font-size: 12pt;">    let data = ['a','b','c','d']</font></div><div><font style="font-size: 12pt;">    // 创建虚拟DOM</font></div><div><font style="font-size: 12pt;">    let inner= (&lt;div&gt;</font></div><div><font style="font-size: 12pt;">        &lt;h1 className='name' id={name} style={{padding:20+'px'}}&gt;</font></div><div><font style="font-size: 12pt;">          &lt;span&gt;{val}&lt;/span&gt;</font></div><div><font style="font-size: 12pt;">        &lt;/h1&gt;</font></div><div><font style="font-size: 12pt;">        &lt;p&gt;这是内容&lt;/p&gt;</font></div><div><font style="font-size: 12pt;">        &lt;input type=&quot;text&quot;/&gt;</font></div><div><font style="font-size: 12pt;">        &lt;ul&gt;</font></div><div><font style="font-size: 12pt;">            {</font></div><div><font style="font-size: 12pt;">                data.map(item=&gt;{</font></div><div><font style="font-size: 12pt;">                    return &lt;li key={item}&gt;{item}&lt;/li&gt;</font></div><div><font style="font-size: 12pt;">                })</font></div><div><font style="font-size: 12pt;">            }</font></div><div><font style="font-size: 12pt;">        &lt;/ul&gt;</font></div><div><font style="font-size: 12pt;">        &lt;/div&gt;)</font></div><div><font style="font-size: 12pt;">    // 渲染虚拟DOM</font></div><div><font style="font-size: 12pt;">    let ele = document.getElementById('myDiv')</font></div><div><font style="font-size: 12pt;">    ReactDOM.render(inner,ele)</font></div><div><font style="font-size: 12pt;">&lt;/script&gt;</font></div></div><div><br/></div></span>
</div>
<hr>
<a name="853"/>

<div>
<span><div><h3 style="text-align: justify;"><span style="font-size: 14pt; color: rgb(1, 1, 1); font-family: 微软雅黑; font-weight: bold;">模块</span></h3><ol style="margin-top: 0mm; margin-bottom: 0mm; margin-left: 0mm; padding-left: 0pt;"><li style="margin-left: 36pt; margin-right: 0pt; padding-left: 3pt; text-indent: 0pt; font-size: 10.5pt;"><div><span style="font-size: 11pt; color: rgb(0, 0, 0); font-family: ΢���ź�;">理解：向外提供特定功能的js程序, 一般就是一个js文件</span></div></li><li style="margin-left: 36pt; margin-right: 0pt; padding-left: 3pt; text-indent: 0pt; font-size: 11pt;"><div><span style="font-size: 11pt; color: rgb(0, 0, 0); font-family: ΢���ź�;">为什么要拆成模块：随着业务逻辑增加，代码越来越多且复杂。</span></div></li><li style="margin-left: 36pt; margin-right: 0pt; padding-left: 3pt; text-indent: 0pt; font-size: 11pt;"><div><span style="font-size: 11pt; color: rgb(0, 0, 0); font-family: ΢���ź�;">作用：复用js, 简化js的编写, 提高js运行效率.</span></div></li></ol><h3 style="text-align: justify;"><span style="font-size: 14pt; color: rgb(1, 1, 1); font-family: 微软雅黑; font-weight: bold;">组件</span></h3><ol style="margin-top: 0mm; margin-bottom: 0mm; margin-left: 0mm; padding-left: 0pt;"><li style="margin-left: 36pt; margin-right: 0pt; padding-left: 3pt; text-indent: 0pt; font-size: 10.5pt;"><div><span style="font-size: 11pt; color: rgb(0, 0, 0); font-family: ΢���ź�;">理解：用来实现局部功能效果的代码和资源的集合(html/css/js/image等等)</span></div></li><li style="margin-left: 36pt; margin-right: 0pt; padding-left: 3pt; text-indent: 0pt; font-size: 11pt;"><div><span style="font-size: 11pt; color: rgb(0, 0, 0); font-family: ΢���ź�;">为什么要用组件： 一个界面的功能更复杂</span></div></li><li style="margin-left: 36pt; margin-right: 0pt; padding-left: 3pt; text-indent: 0pt; font-size: 11pt;"><div><span style="font-size: 11pt; color: rgb(0, 0, 0); font-family: ΢���ź�;">作用：复用编码, 简化项目编码, 提高运行效率</span></div></li></ol><h3><span style="font-size: 14pt; font-family: 微软雅黑; font-weight: bold;">模块化</span></h3><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 11pt; color: rgb(0, 0, 0); font-family: 微软雅黑;-en-paragraph:true;">当应用的</span><span style="font-size: 11pt; color: rgb(0, 0, 0); font-family: 微软雅黑;-en-paragraph:true;">js</span><span style="font-size: 11pt; color: rgb(0, 0, 0); font-family: 微软雅黑;-en-paragraph:true;">都以模块来编写的</span><span style="font-size: 11pt; color: rgb(0, 0, 0); font-family: 微软雅黑;-en-paragraph:true;">,</span> <span style="font-size: 11pt; color: rgb(0, 0, 0); font-family: 微软雅黑;-en-paragraph:true;">这个应用就是一个模块化的应用</span></div><div style="margin-top: 1em; margin-bottom: 1em;"></div><h3><span style="font-size: 14pt; font-family: 微软雅黑; font-weight: bold;">组件化</span></h3><div style="margin-top: 1em; margin-bottom: 1em;"><span style="line-height: 150%;"><span style="text-indent: 36pt; font-size: 11pt; line-height: 150%; color: rgb(0, 0, 0); font-family: 微软雅黑;-en-paragraph:true;">当应用是以多组件的方式实现</span><span style="text-indent: 36pt; font-size: 11pt; line-height: 150%; color: rgb(0, 0, 0); font-family: 微软雅黑;-en-paragraph:true;">,</span> <span style="text-indent: 36pt; font-size: 11pt; line-height: 150%; color: rgb(0, 0, 0); font-family: 微软雅黑;-en-paragraph:true;">这个应用就是一个组件化的应用</span></span></div></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="text-indent: 36pt; font-size: 11pt; line-height: 150%; color: rgb(0, 0, 0); font-family: 微软雅黑;-en-paragraph:true;">1、函数式组件</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="text-indent: 36pt; font-size: 11pt; line-height: 150%; color: rgb(0, 0, 0); font-family: 微软雅黑;-en-paragraph:true;">   执行了</span><span style="background-color: rgb(30, 30, 30); font-size: 14px; white-space: pre; color: rgb(214, 214, 214); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 19px;">ReactDOM</span><span style="background-color: rgb(30, 30, 30); font-size: 14px; white-space: pre; color: rgb(214, 214, 214); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 19px;">.</span><span style="background-color: rgb(30, 30, 30); font-size: 14px; white-space: pre; color: rgb(214, 214, 214); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 19px;">render</span><span style="background-color: rgb(30, 30, 30); font-size: 14px; white-space: pre; color: rgb(214, 214, 214); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 19px;">(</span><span style="background-color: rgb(30, 30, 30); font-size: 14px; white-space: pre; color: rgb(214, 214, 214); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 19px;">&lt;</span><span style="background-color: rgb(30, 30, 30); font-size: 14px; white-space: pre; color: rgb(214, 214, 214); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 19px;">FunComponent</span><span style="background-color: rgb(30, 30, 30); font-size: 14px; white-space: pre; color: rgb(214, 214, 214); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 19px;">/&gt;</span><span style="background-color: rgb(30, 30, 30); font-size: 14px; white-space: pre; color: rgb(214, 214, 214); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 19px;">,</span><span style="background-color: rgb(30, 30, 30); font-size: 14px; white-space: pre; color: rgb(214, 214, 214); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 19px;">ele</span><span style="background-color: rgb(30, 30, 30); font-size: 14px; white-space: pre; color: rgb(214, 214, 214); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 19px;">)</span><span style="text-indent: 36pt; font-size: 11pt; line-height: 150%; color: rgb(0, 0, 0); font-family: 微软雅黑;-en-paragraph:true;">后，发生了什么</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="text-indent: 36pt; font-size: 11pt; line-height: 150%; color: rgb(0, 0, 0); font-family: 微软雅黑;-en-paragraph:true;">           1）React解析组件标签，找到了FunCompontent组件。（组件的命名首字母要大写）</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="text-indent: 36pt; font-size: 11pt; line-height: 150%; color: rgb(0, 0, 0); font-family: 微软雅黑;-en-paragraph:true;">           2）发现组件是用函数定义的，随后调用该函数，将返回的虚拟DOM转为真实DOM，随后呈现在页面中。</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><br/></div><div style="margin-top: 1em; margin-bottom: 1em;"><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="line-height: 150%;"><font style="font-size: 12pt;">&lt;script type=&quot;text/babel&quot;&gt;</font></span></div><div><span style="line-height: 150%;"><font style="font-size: 12pt;">// 创建函数式组件</font></span></div><div><span style="line-height: 150%;"><font style="font-size: 12pt;">    function FunComponent(){</font></span></div><div><span style="line-height: 150%;"><font style="font-size: 12pt;">        // 自定义函数里的this是undefined，因为babel编译后开启了严格模式，严格模式下，函数里的this指向都是undefined</font></span></div><div><span style="line-height: 150%;"><font style="font-size: 12pt;">        console.log(this)</font></span></div><div><span style="line-height: 150%;"><font style="font-size: 12pt;">        return &lt;h1&gt;测试函数式组件（简单组件）使用方法&lt;/h1&gt;</font></span></div><div><span style="line-height: 150%;"><font style="font-size: 12pt;">    }</font></span></div><div><span style="line-height: 150%;"><font style="font-size: 12pt;">    // 将组件渲染到页面</font></span></div><div><span style="line-height: 150%;"><font style="font-size: 12pt;">    let ele = document.getElementById('myDiv')</font></span></div><div><span style="line-height: 150%;"><font style="font-size: 12pt;">    ReactDOM.render(&lt;FunComponent/&gt;,ele)</font></span></div><div><span style="line-height: 150%;"><font style="font-size: 12pt;">    </font></span></div><div><span style="line-height: 150%;"><font style="font-size: 12pt;">&lt;/script&gt;</font></span></div></div><div><br/></div></div><div style="margin-top: 1em; margin-bottom: 1em;"></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="text-indent: 36pt; font-size: 11pt; line-height: 150%; color: rgb(0, 0, 0); font-family: 微软雅黑;-en-paragraph:true;">2、类式组件</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="text-indent: 36pt; font-size: 11pt; line-height: 150%; color: rgb(0, 0, 0); font-family: 微软雅黑;-en-paragraph:true;">执行了</span><font style="color: rgb(214, 214, 214);"><span style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;">ReactDOM</span><span style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;">.</span><span style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;">render</span><span style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;">(</span><span style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;">&lt;</span><span style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;">MyComponent</span><span style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;">/&gt;</span><span style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;">,</span><span style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;">ele</span><span style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;">)</span></font><span style="text-indent: 36pt; font-size: 11pt; line-height: 150%; color: rgb(0, 0, 0); font-family: 微软雅黑;-en-paragraph:true;">后，发生了什么</span><br/></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="text-indent: 36pt; font-size: 11pt; line-height: 150%; color: rgb(0, 0, 0); font-family: 微软雅黑;-en-paragraph:true;">   1、React解析组件标签，找到了MyComponent组件</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="text-indent: 36pt; font-size: 11pt; line-height: 150%; color: rgb(0, 0, 0); font-family: 微软雅黑;-en-paragraph:true;">   2、发现组件是使用类定义的，随后new出来该类的实例，并通过该实例调用到原型上的render方法。</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="text-indent: 36pt; font-size: 11pt; line-height: 150%; color: rgb(0, 0, 0); font-family: 微软雅黑;-en-paragraph:true;">   3、将render返回的虚拟DOM转化为实际DOM，随后呈现到页面当中</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 12pt;"><br/></font></div><div style="margin-top: 1em; margin-bottom: 1em;"><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">&lt;script type=&quot;text/babel&quot;&gt;</font></div><div><font style="font-size: 12pt;">//   创建一个函数式组件</font></div><div><font style="font-size: 12pt;">class MyComponent extends React.Component{</font></div><div><font style="font-size: 12pt;">    // render是放在--MyComponent的原型对象上，供实例使用</font></div><div><font style="font-size: 12pt;">    // render中的this指向--MyComponent的实例对象 &lt;=&gt; MyComponent组件实例对象</font></div><div><font style="font-size: 12pt;">    render(){</font></div><div><font style="font-size: 12pt;">        return &lt;h1&gt;类定义的组件（适用于【复杂组件】的定义）&lt;/h1&gt;</font></div><div><font style="font-size: 12pt;">    }</font></div><div><font style="font-size: 12pt;">}</font></div><div><font style="font-size: 12pt;">// 渲染到页面</font></div><div><font style="font-size: 12pt;">let ele = document.getElementById('myDiv')</font></div><div><font style="font-size: 12pt;">ReactDOM.render(&lt;MyComponent/&gt;,ele)</font></div><div><font style="font-size: 12pt;">    </font></div><div><font style="font-size: 12pt;">    </font></div><div><font style="font-size: 12pt;">&lt;/script&gt;</font></div></div><br/></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 11pt;"><br/></span></div></span>
</div>
<hr>
<a name="855"/>

<div>
<span><div>1、初始化state</div><div>    </div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">&lt;!-- type要写成 text/babel --&gt;</font></div><div><font style="font-size: 12pt;">&lt;script type=&quot;text/babel&quot;&gt;</font></div><div><font style="font-size: 12pt;">    class Ppap extends React.Component{</font></div><div><font style="font-size: 12pt;">        constructor(props){</font></div><div><font style="font-size: 12pt;">            super(props)</font></div><div><font style="font-size: 12pt;">            //初始化状态</font></div><div><font style="font-size: 12pt;">            this.state={</font></div><div><font style="font-size: 12pt;">                pen:true</font></div><div><font style="font-size: 12pt;">            }</font></div><div><font style="font-size: 12pt;">        }</font></div><div><font style="font-size: 12pt;">        render(){</font></div><div><font style="font-size: 12pt;">            //读取状态</font></div><div><font style="font-size: 12pt;">            let {pen} = this.state</font></div><div><font style="font-size: 12pt;">            return &lt;h1&gt;I have a {pen?'pen':'apple'}&lt;/h1&gt;</font></div><div><font style="font-size: 12pt;">                    </font></div><div><font style="font-size: 12pt;">        }</font></div><div><font style="font-size: 12pt;">    }</font></div><div><font style="font-size: 12pt;">    let ele = document.getElementById('myDiv')</font></div><div><font style="font-size: 12pt;">    ReactDOM.render(&lt;Ppap/&gt;,ele)</font></div><div><font style="font-size: 12pt;">&lt;/script&gt;</font></div></div><div><br/></div><div>2、事件绑定  </div><div>使用 onClick进行绑定 </div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">&lt;script type=&quot;text/babel&quot;&gt;</font></div><div><font style="font-size: 12pt;">    class Ppap extends React.Component{</font></div><div><font style="font-size: 12pt;">        constructor(props){</font></div><div><font style="font-size: 12pt;">            super(props)</font></div><div><font style="font-size: 12pt;">            this.state={</font></div><div><font style="font-size: 12pt;">                pen:true</font></div><div><font style="font-size: 12pt;">            }</font></div><div><font style="font-size: 12pt;">        }</font></div><div><font style="font-size: 12pt;">        render(){</font></div><div><font style="font-size: 12pt;">            let {pen} = this.state</font></div><div><font style="font-size: 12pt;">            return &lt;h1 onClick={emm}&gt;I have a {pen?'pen':'apple'}&lt;/h1&gt;</font></div><div><font style="font-size: 12pt;">        }</font></div><div><font style="font-size: 12pt;">    }</font></div><div><font style="font-size: 12pt;">    function emm(){</font></div><div><font style="font-size: 12pt;">        console.log('123')</font></div><div><font style="font-size: 12pt;">     </font></div><div><font style="font-size: 12pt;">    }</font></div><div><font style="font-size: 12pt;">    let ele = document.getElementById('myDiv')</font></div><div><font style="font-size: 12pt;">    ReactDOM.render(&lt;Ppap/&gt;,ele)</font></div><div><font style="font-size: 12pt;">&lt;/script&gt;</font></div></div><div><br/></div><div>组建中自定义方法的this指向，以及如何调用自定义函数</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">&lt;script type=&quot;text/babel&quot;&gt;</font></div><div><font style="font-size: 12pt;">    </font></div><div><font style="font-size: 12pt;">    class Ppap extends React.Component{</font></div><div><font style="font-size: 12pt;">        // 构造器只调用一次</font></div><div><font style="font-size: 12pt;">        constructor(props){</font></div><div><font style="font-size: 12pt;">            super(props)</font></div><div><font style="font-size: 12pt;">            // 初始化状态</font></div><div><font style="font-size: 12pt;">            this.state={</font></div><div><font style="font-size: 12pt;">                pen:true</font></div><div><font style="font-size: 12pt;">            }</font></div><div><font style="font-size: 12pt;">            this.change = this.emm.bind(this)</font></div><div><font style="font-size: 12pt;">        }</font></div><div><font style="font-size: 12pt;">        // render调用n+1次</font></div><div><font style="font-size: 12pt;">        render(){</font></div><div><font style="font-size: 12pt;">            // 读取状态</font></div><div><font style="font-size: 12pt;">            let {pen} = this.state</font></div><div><font style="font-size: 12pt;">            return &lt;h1 onClick={this.change}&gt;I have a {pen?'pen':'apple'}&lt;/h1&gt;</font></div><div><font style="font-size: 12pt;">                    </font></div><div><font style="font-size: 12pt;">        }</font></div><div><font style="font-size: 12pt;">        // 自定义方法 触发几次调用几次</font></div><div><font style="font-size: 12pt;">        emm(){</font></div><div><font style="font-size: 12pt;">            // emm放在那里？weather的原型对象上，供实例使用</font></div><div><font style="font-size: 12pt;">            // 由于emm是作为onClick的回调，所以不是通过实例调用的，是直接调用</font></div><div><font style="font-size: 12pt;">            // 类中的方法默认开启了局部严格模式，所以emm中的this为undefined</font></div><div><font style="font-size: 12pt;">            let {pen} = this.state</font></div><div><font style="font-size: 12pt;">            console.log(pen)</font></div><div><font style="font-size: 12pt;">            // 状态不能直接更改，要借助一个内置api更改</font></div><div><font style="font-size: 12pt;">            // this.state.pen = !pen（错误方法）</font></div><div><font style="font-size: 12pt;">            // 状态需要setState进行修改,且更新是一种合并，不是替换。</font></div><div><font style="font-size: 12pt;">            this.setState({pen:!pen}</font></div><div><font style="font-size: 12pt;">            console.log(this)</font></div><div><font style="font-size: 12pt;">        }</font></div><div><font style="font-size: 12pt;">    }</font></div><div><font style="font-size: 12pt;">    let ele = document.getElementById('myDiv')</font></div><div><font style="font-size: 12pt;">    ReactDOM.render(&lt;Ppap/&gt;,ele)</font></div><div><font style="font-size: 12pt;">&lt;/script&gt;</font></div></div><div><br/></div><div>获取state状态的简易写法（通常使用）</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">&lt;!-- type要写成 text/babel --&gt;</font></div><div><font style="font-size: 12pt;">&lt;script type=&quot;text/babel&quot;&gt;</font></div><div><font style="font-size: 12pt;">    class Ppap extends React.Component{</font></div><div><font style="font-size: 12pt;">    //   初始化状态</font></div><div><font style="font-size: 12pt;">        state={pen:true}</font></div><div><font style="font-size: 12pt;">        render(){</font></div><div><font style="font-size: 12pt;">            let {pen} = this.state</font></div><div><font style="font-size: 12pt;">            return &lt;h1 onClick={this.emm}&gt;I have a {pen?'pen':'apple'}&lt;/h1&gt;       </font></div><div><font style="font-size: 12pt;">        }</font></div><div><font style="font-size: 12pt;">        // 自定义方法--要用赋值语句的形式+箭头函数</font></div><div><font style="font-size: 12pt;">        emm=()=&gt;{</font></div><div><font style="font-size: 12pt;">            let {pen} = this.state</font></div><div><font style="font-size: 12pt;">            this.setState({pen:!pen})</font></div><div><font style="font-size: 12pt;">        }</font></div><div><font style="font-size: 12pt;">    }</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">    let ele = document.getElementById('myDiv')</font></div><div><font style="font-size: 12pt;">    ReactDOM.render(&lt;Ppap/&gt;,ele)</font></div><div><font style="font-size: 12pt;">&lt;/script&gt;</font></div></div><div><br/></div></span>
</div>
<hr>
<a name="857"/>

<div>
<span><div><div>1、基本使用方法</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">&lt;script type=&quot;text/babel&quot;&gt;</font></div><div><font style="font-size: 12pt;">    // 创建组件</font></div><div><font style="font-size: 12pt;">    class MyComponent extends React.Component{</font></div><div><font style="font-size: 12pt;">        render(){</font></div><div><font style="font-size: 12pt;">            let {name,age,job}=this.props</font></div><div><font style="font-size: 12pt;">            return(</font></div><div><font style="font-size: 12pt;">                &lt;ul&gt;</font></div><div><font style="font-size: 12pt;">                    &lt;li&gt;{name}&lt;/li&gt;</font></div><div><font style="font-size: 12pt;">                    &lt;li&gt;{age}&lt;/li&gt;</font></div><div><font style="font-size: 12pt;">                    &lt;li&gt;{job}&lt;/li&gt;</font></div><div><font style="font-size: 12pt;">                &lt;/ul&gt;</font></div><div><font style="font-size: 12pt;">            )</font></div><div><font style="font-size: 12pt;">        }</font></div><div><font style="font-size: 12pt;">    }</font></div><div><font style="font-size: 12pt;">    // 渲染dom</font></div><div><font style="font-size: 12pt;">    let ele = document.getElementById('myDiv')</font></div><div><font style="font-size: 12pt;">    // 单一传入props参数</font></div><div><font style="font-size: 12pt;">    ReactDOM.render(&lt;MyComponent name='aabb' age='18' job='worker'/&gt;,ele)</font></div><div><font style="font-size: 12pt;">    // 批量传入props</font></div><div><font style="font-size: 12pt;">    let dataArr=[</font></div><div><font style="font-size: 12pt;">        {</font></div><div><font style="font-size: 12pt;">            name:'zs',</font></div><div><font style="font-size: 12pt;">            age:18,</font></div><div><font style="font-size: 12pt;">            job:'web'</font></div><div><font style="font-size: 12pt;">        },</font></div><div><font style="font-size: 12pt;">        {</font></div><div><font style="font-size: 12pt;">            name:'james',</font></div><div><font style="font-size: 12pt;">            age:37,</font></div><div><font style="font-size: 12pt;">            job:'palyer'</font></div><div><font style="font-size: 12pt;">        }</font></div><div><font style="font-size: 12pt;">    ]</font></div><div><font style="font-size: 12pt;">    ReactDOM.render(&lt;MyComponent {...dataArr[0]}/&gt;,document.getElementById('myDiv2'))</font></div><div><font style="font-size: 12pt;">    ReactDOM.render(&lt;MyComponent {...dataArr[1]}/&gt;,document.getElementById('myDiv3'))</font></div><div><font style="font-size: 12pt;">&lt;/script&gt;</font></div></div><div>2.props的默认值以及对类型的限制</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">&lt;script type=&quot;text/babel&quot;&gt;</font></div><div><font style="font-size: 12pt;">    // 创建组件</font></div><div><font style="font-size: 12pt;">    class MyComponent extends React.Component{</font></div><div><font style="font-size: 12pt;">        //</font> propTypes<font style="font-size: 12pt;">设置限制</font></div><div><font style="font-size: 12pt;">        static propTypes = {</font></div><div><font style="font-size: 12pt;">            name:PropTypes.string.isRequired, //限制name必传，且为字符串</font></div><div><font style="font-size: 12pt;">            job:PropTypes.string,//限制sex为字符串</font></div><div><font style="font-size: 12pt;">            age:PropTypes.number,//限制age为数值</font></div><div><font style="font-size: 12pt;">            speak:PropTypes.func,//限制speak为函数</font></div><div><font style="font-size: 12pt;">        }</font></div><div><font style="font-size: 12pt;">        //</font> defaultProps<font style="font-size: 12pt;">设置默认值</font></div><div><font style="font-size: 12pt;">        static defaultProps={</font></div><div><font style="font-size: 12pt;">            age:18,</font></div><div><font style="font-size: 12pt;">            job:'worker'</font></div><div><font style="font-size: 12pt;">        }</font></div><div><font style="font-size: 12pt;">        </font></div><div><font style="font-size: 12pt;">        </font></div><div><font style="font-size: 12pt;">        render(){</font></div><div><font style="font-size: 12pt;">            //props是只读的</font></div><div><font style="font-size: 12pt;">             this.props.name = 'jack' //此行代码会报错，因为props是只读的</font></div><div><font style="font-size: 12pt;">            let {name,age,job}=this.props</font></div><div><font style="font-size: 12pt;">            return(</font></div><div><font style="font-size: 12pt;">                &lt;ul&gt;</font></div><div><font style="font-size: 12pt;">                    &lt;li&gt;{name}&lt;/li&gt;</font></div><div><font style="font-size: 12pt;">                    &lt;li&gt;{age}&lt;/li&gt;</font></div><div><font style="font-size: 12pt;">                    &lt;li&gt;{job}&lt;/li&gt;</font></div><div><font style="font-size: 12pt;">                &lt;/ul&gt;</font></div><div><font style="font-size: 12pt;">            )</font></div><div><font style="font-size: 12pt;">        }</font></div><div><font style="font-size: 12pt;">  </font></div><div><font style="font-size: 12pt;">        </font></div><div><font style="font-size: 12pt;">    }</font></div><div><font style="font-size: 12pt;">    // 渲染dom</font></div><div><font style="font-size: 12pt;">    let ele = document.getElementById('myDiv')</font></div><div><font style="font-size: 12pt;">    // 单一传入props参数</font></div><div><font style="font-size: 12pt;">    ReactDOM.render(&lt;MyComponent name={123} speak={speak}/&gt;,ele)</font></div><div><font style="font-size: 12pt;">    function speak(){</font></div><div><font style="font-size: 12pt;">        console.log('我说话了');</font></div><div><font style="font-size: 12pt;">    }</font></div><div><font style="font-size: 12pt;">&lt;/script&gt;</font></div></div><div><b>3、props的简写方式 （上面实例2就是简写方式）</b></div><div><br/></div><div><b>4、构造函数  （在类组件中 基本不需要构造函数）</b></div><div>   <font style="font-size: 10pt;"> </font><span style="color: rgb(0, 0, 0); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Fira Sans&quot;, &quot;Droid Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.7;"><span style="line-height: 1.7; max-width: 42em; color: rgb(0, 0, 0); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Fira Sans&quot;, &quot;Droid Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><font style="font-size: 10pt;">通常，在 React 中，构造函数仅用于以下两种情况：</font></span></span></div><ul style="margin: 20px 0px 0px; padding: 0px 0px 0px 20px; list-style: disc; color: rgb(26, 26, 26); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Fira Sans&quot;, &quot;Droid Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><li style="margin: 10px 0px 0px; padding: 0px; box-sizing: inherit;"><div><font style="font-size: 10pt;">通过给 <span style="font-family: source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; background: rgba(255, 229, 100, 0.2); color: rgb(26, 26, 26); word-break: break-word;">this.state</span> 赋值对象来初始化<a href="https://zh-hans.reactjs.org/docs/state-and-lifecycle.html" style="background-color: rgba(187, 239, 253, 0.3); color: rgb(26, 26, 26); border-bottom: 1px solid rgba(0, 0, 0, 0.2);">内部 state</a>。</font></div></li><li style="margin: 10px 0px 0px; padding: 0px; box-sizing: inherit;"><div><font style="font-size: 10pt;">为<a href="https://zh-hans.reactjs.org/docs/handling-events.html" style="background-color: rgba(187, 239, 253, 0.3); color: rgb(26, 26, 26); border-bottom: 1px solid rgba(0, 0, 0, 0.2);">事件处理函数</a>绑定实例</font></div></li></ul><div><font style="font-size: 10pt;"><br/></font></div><div><span style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;"><font style="color: rgb(255, 70, 53);">构造器是否接收props，是否传递给super，取决于：是否希望在构造器中通过this访问 props</font></span></div><div><font style="font-size: 10pt;"><br/></font></div><div><font style="font-size: 10pt;"><span style="color: rgb(0, 0, 0); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Fira Sans&quot;, &quot;Droid Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">在 React 组件挂载之前，会调用它的构造函数。在为 <a href="http://react.component/">React.Component</a> 子类实现构造函数时，应在其他语句之前调用</span><span style="color: rgb(0, 0, 0); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Fira Sans&quot;, &quot;Droid Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"> </span><span style="font-family: source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; background: rgba(255, 229, 100, 0.2); color: rgb(26, 26, 26); word-break: break-word; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">super(props)</span><span style="color: rgb(0, 0, 0); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Fira Sans&quot;, &quot;Droid Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">。否则，</span><span style="font-family: source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; background: rgba(255, 229, 100, 0.2); color: rgb(26, 26, 26); word-break: break-word; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">this.props</span><span style="color: rgb(0, 0, 0); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Fira Sans&quot;, &quot;Droid Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"> </span><span style="color: rgb(0, 0, 0); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Fira Sans&quot;, &quot;Droid Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">在构造函数中可能会出现未定义的 bug。</span></font></div><div><font style="font-size: 10pt;"><span style="color: rgb(0, 0, 0); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Fira Sans&quot;, &quot;Droid Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><br/></span></font></div><div><font style="font-size: 10pt;"><span style="color: rgb(0, 0, 0); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Fira Sans&quot;, &quot;Droid Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><b>5、函数式组件中使用props</b></span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 10pt;">&lt;script type=&quot;text/babel&quot;&gt;</font></div><div><font style="font-size: 10pt;">// 创建函数式组件</font></div><div><font style="font-size: 10pt;">    function Preson(props){</font></div><div><font style="font-size: 10pt;">        // 通过传参方式传递显示的内容</font></div><div><font style="font-size: 10pt;">        console.log(props)</font></div><div><font style="font-size: 10pt;">        return (</font></div><div><font style="font-size: 10pt;">            &lt;ul&gt;</font></div><div><font style="font-size: 10pt;">                &lt;li&gt;姓名：{props.name}&lt;/li&gt;</font></div><div><font style="font-size: 10pt;">                &lt;li&gt;性别：{props.sex}&lt;/li&gt;</font></div><div><font style="font-size: 10pt;">                &lt;li&gt;年龄：{props.age}&lt;/li&gt;    </font></div><div><font style="font-size: 10pt;">            &lt;/ul&gt;</font></div><div><font style="font-size: 10pt;">        )</font></div><div><font style="font-size: 10pt;">    }</font></div><div><font style="font-size: 10pt;">    // propTypes设置限制</font></div><div><font style="font-size: 10pt;">    Preson.propTypes={</font></div><div><font style="font-size: 10pt;">        name:PropTypes.string.isRequired,</font></div><div><font style="font-size: 10pt;">        sex:PropTypes.string,</font></div><div><font style="font-size: 10pt;">        age:PropTypes.number</font></div><div><font style="font-size: 10pt;">    }</font></div><div><font style="font-size: 10pt;">    // defaultProps设置默认值</font></div><div><font style="font-size: 10pt;">    Preson.defaultProps={</font></div><div><font style="font-size: 10pt;">        age:19,</font></div><div><font style="font-size: 10pt;">        sex:'Man'</font></div><div><font style="font-size: 10pt;">    }</font></div><div><font style="font-size: 10pt;">    // 将组件渲染到页面</font></div><div><font style="font-size: 10pt;">    let ele = document.getElementById('myDiv')</font></div><div><font style="font-size: 10pt;">    ReactDOM.render(&lt;Preson name='zs' age={18} sex='男'/&gt;,ele)</font></div><div><font style="font-size: 10pt;">   </font></div><div><font style="font-size: 10pt;">&lt;/script&gt;</font></div></div></div></span>
</div>
<hr>
<a name="1032"/>

<div>
<span><div><b>1、字符串形式的ref（官方已不推荐使用--过多的使用会有效率问题）</b></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&lt;script type=&quot;text/babel&quot;&gt;</div><div>   </div><div>    class InputCom extends React.Component{</div><div>        showinput=()=&gt;{</div><div>            // 使用this.refs进行获取</div><div>            let ele = this.refs.input1</div><div>            alert(ele.value)</div><div>        }</div><div>        showinput2=()=&gt;{</div><div>            let ele = this.refs.input2</div><div>            alert(ele.value)</div><div>        }</div><div>        render(){</div><div>            return(</div><div>                // 使用ref进行标识</div><div>                &lt;div&gt;</div><div>                    &lt;input ref='input1' type=&quot;text&quot; placeholder='点击出提示'/&gt;</div><div>                    &lt;button onClick={this.showinput}&gt;点我点我快点我&lt;/button&gt;</div><div>                    &lt;input onBlur={this.showinput2} ref='input2' type=&quot;text&quot; placeholder='失焦出提示'/&gt;</div><div>                &lt;/div&gt;</div><div>            )</div><div>        }</div><div>    }</div><div><br/></div><div><br/></div><div>    let ele = document.getElementById('myDiv')</div><div>    ReactDOM.render(&lt;InputCom/&gt;,ele)</div><div>&lt;/script&gt;</div></div><div><br/></div><div><b>2、回调形式ref</b></div><div><span style="box-sizing: border-box; font-size: 13.6px; background-color: var(--color-neutral-muted); border-radius: 6px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(36, 41, 47); font-family: ui-monospace, SFMono-Regular, &quot;SF Mono&quot;, Menlo, Consolas, &quot;Liberation Mono&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">我的理解： c</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">会接收到当前节点作为参数，</span><span style="box-sizing: border-box; font-size: 13.6px; background-color: var(--color-neutral-muted); border-radius: 6px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(36, 41, 47); font-family: ui-monospace, SFMono-Regular, &quot;SF Mono&quot;, Menlo, Consolas, &quot;Liberation Mono&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">ref</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">的值为函数的返回值，也就是</span><span style="box-sizing: border-box; font-size: 13.6px; background-color: var(--color-neutral-muted); border-radius: 6px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(36, 41, 47); font-family: ui-monospace, SFMono-Regular, &quot;SF Mono&quot;, Menlo, Consolas, &quot;Liberation Mono&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">this.input1 = c</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">，因此是给实例下的</span><span style="box-sizing: border-box; font-size: 13.6px; background-color: var(--color-neutral-muted); border-radius: 6px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(36, 41, 47); font-family: ui-monospace, SFMono-Regular, &quot;SF Mono&quot;, Menlo, Consolas, &quot;Liberation Mono&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">input1</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">赋值</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&lt;script type=&quot;text/babel&quot;&gt;</div><div>   </div><div>    class InputCom extends React.Component{</div><div>        showinput=()=&gt;{</div><div>            alert(this.input1.value)</div><div>        }</div><div>        showinput2=()=&gt;{</div><div>            alert(this.input2.value)</div><div>        }</div><div>        render(){</div><div>            return(</div><div>                &lt;div&gt;</div><div>                    &lt;input ref={e =&gt; this.input1 = e } type=&quot;text&quot; placeholder='点击出提示'/&gt;</div><div>                    &lt;button onClick={this.showinput}&gt;点我点我快点我&lt;/button&gt;</div><div>                    &lt;input onBlur={this.showinput2} ref={e =&gt; this.input2 = e } type=&quot;text&quot; placeholder='失焦出提示'/&gt;</div><div>                &lt;/div&gt;</div><div>            )</div><div>        }</div><div>    }</div><div><br/></div><div><br/></div><div>    let ele = document.getElementById('myDiv')</div><div>    ReactDOM.render(&lt;InputCom/&gt;,ele)</div><div>&lt;/script&gt;</div></div><div><br/></div><div><b>3、回调ref中回调执行次数</b></div><div>在使用内联回调函数定义ref的时候，在数据渲染的时候ref会执行两次 (第一次返回null第二次返回标签)（但没有问题依旧可以正常使用）</div><div><br/></div><div><b>4、createRef（官方推荐）</b></div><div><span style="color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-size: 16px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span>    </span>React 给我们提供了一个相应的API，它会自动的将该 DOM 元素放入实例对象中</span></div><div><span style="font-size: 12pt; color: rgb(36, 41, 47);"><span>    </span>React.createRef调用后可以返回一个容器，该容器可以存储被ref所标识的节点</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&lt;script type=&quot;text/babel&quot;&gt;</div><div>    class Mycom extends React.Component{</div><div>        // React.createRef调用后可以返回一个容器，该容器可以存储被ref所标识的节点</div><div>        myRef = React.createRef()</div><div>        myRef2 = React.createRef()</div><div><br/></div><div><br/></div><div>        sum=()=&gt;{</div><div>            let v1 = this.myRef.current.value</div><div>            let v2 = this.myRef2.current.value</div><div>            alert( Number(v1)+Number(v2))</div><div>        }</div><div>        render(){</div><div><br/></div><div><br/></div><div>            return (</div><div>                &lt;div&gt;</div><div>                    &lt;input ref={this.myRef}  type=&quot;number&quot; /&gt;</div><div>                    &lt;span&gt;+&lt;/span&gt;    </div><div>                    &lt;input ref={this.myRef2} type=&quot;number&quot; /&gt;</div><div>                    &lt;button onClick={this.sum}&gt;计算&lt;/button&gt;</div><div>                &lt;/div&gt;</div><div><br/></div><div><br/></div><div>            )</div><div>        }</div><div>       </div><div>    }</div><div><br/></div><div><br/></div><div>    let ele = document.getElementById('myDiv')</div><div>    ReactDOM.render(&lt;Mycom/&gt;,ele)</div><div>&lt;/script&gt;</div></div><div><br/></div><div><br/></div></span>
</div>
<hr>
<a name="1034"/>

<div>
<span><div><div><b>事件处理</b></div><div><br/></div><div><span>    通过 onXxx指定事件处理函数（注意大小写）</span><br/></div><ol style="box-sizing: border-box; padding-left: 2em; margin-top: 0px; margin-bottom: 16px; color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-size: 16px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><li style="box-sizing: border-box;"><div style="box-sizing: border-box; margin-top: 16px; margin-bottom: 16px;"><span style="box-sizing: border-box;">React 使用的是自定义事件，而不是原生的 DOM 事件 ---为了更好的兼容性</span></div></li><li style="box-sizing: border-box; margin-top: 0.25em;"><div style="box-sizing: border-box; margin-top: 16px; margin-bottom: 16px;"><span style="box-sizing: border-box;">React 的事件是通过事件委托方式处理的（为了更加的高效）</span></div></li><li style="box-sizing: border-box; margin-top: 0.25em;"><div style="box-sizing: border-box; margin-top: 16px; margin-bottom: 16px;"><span style="box-sizing: border-box;">可以通过事件的</span><span style="box-sizing: border-box;"> </span><span style="box-sizing: border-box; font-family: ui-monospace, SFMono-Regular, &quot;SF Mono&quot;, Menlo, Consolas, &quot;Liberation Mono&quot;, monospace; font-size: 13.6px; white-space: break-spaces; background-color: var(--color-neutral-muted); border-radius: 6px;">event.target</span><span style="box-sizing: border-box;">获取发生的 DOM 元素对象，可以尽量减少</span><span style="box-sizing: border-box;"> </span><span style="box-sizing: border-box; font-family: ui-monospace, SFMono-Regular, &quot;SF Mono&quot;, Menlo, Consolas, &quot;Liberation Mono&quot;, monospace; font-size: 13.6px; white-space: break-spaces; background-color: var(--color-neutral-muted); border-radius: 6px;">refs</span><span style="box-sizing: border-box;">的使用</span></div></li></ol></div></span>
</div>
<hr>
<a name="1036"/>

<div>
<span><div>1、受控组件</div><div>     随着输入将内容保存到状态中。在用的时候直接在状态中取</div><div>2、非受控组件</div><div>      现用现取</div></span>
</div>
<hr>
<a name="1038"/>

<div>
<span><div>1、高阶函数</div><div><span>    </span>如果一个函数符合下面2个规范中的任何一个，那该函数就是高阶函数</div><div><span>    1）若A函数，接收的参数是一个函数，那么A就可以称之为高阶函数</span><br/></div><div><span><span>    2）若A函数，调用的返回值依然是一个函数，那么A就可以称之为高阶函数</span><br/></span></div><div><span><span>    常见的高阶函数有：Promise，定时器，arr.map() ...</span><br/></span></div><div><span><br/></span></div><div><span>2、函数柯里化</span></div><div><span><span>    通过函数调用继续返回函数的方法，实现多次接收参数最后统一处理的函数编码形式</span><br/></span></div><div><span>    </span><br/></div><div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span>&lt;script&gt;</span></div><div><span>    // 函数柯里化例子</span></div><div><span>    function sum (a){</span></div><div><span>        return (b)=&gt;{</span></div><div><span>            return (c)=&gt;{</span></div><div><span>                return a+b+c</span></div><div><span>            }</span></div><div><span>        }</span></div><div><span>    }</span></div><div><span>    let res = sum(1)(2)(3)</span></div><div><span>    console.log(res)</span></div><div><span>&lt;/script&gt;</span></div></div><br/></div><div><span><br/></span><br/></div><div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span>&lt;script type=&quot;text/babel&quot;&gt;</span></div><div><span>    // 利用高阶函数和函数柯里化实现jsx传参</span></div><div><span>    class Form extends React.Component{</span></div><div><span>       state={</span></div><div><span>        name:'',</span></div><div><span>        passWord:''</span></div><div><span>       }</span></div><div><span>       saveData=(type)=&gt;{</span></div><div><span>            return (e)=&gt;{</span></div><div><span>                let val = e.target.value</span></div><div><span>                this.setState({[type]:val})</span></div><div><span>            }</span></div><div><span>       }</span></div><div><span>       submitData=()=&gt;{</span></div><div><span>            let {name,passWord} = this.state</span></div><div><span>            alert(`账号：${name}，密码：${passWord}`)</span></div><div><span>       }</span></div><div><span>        render(){</span></div><div><span><br/></span></div><div><span><br/></span></div><div><span>            return (</span></div><div><span>                &lt;div&gt;</span></div><div><span>                    &lt;span&gt;账号：&lt;/span&gt;</span></div><div><span>                    &lt;input onChange={this.saveData('name')} type=&quot;text&quot; /&gt;</span></div><div><span>                    &lt;span&gt;密码：&lt;/span&gt;    </span></div><div><span>                    &lt;input onChange={this.saveData('passWord')} type=&quot;text&quot; /&gt;</span></div><div><span>                    &lt;button onClick={this.submitData}&gt;登录&lt;/button&gt;</span></div><div><span>                &lt;/div&gt;</span></div><div><span><br/></span></div><div><span><br/></span></div><div><span>            )</span></div><div><span>        }</span></div><div><span>       </span></div><div><span>    }</span></div><div><span><br/></span></div><div><span><br/></span></div><div><span>    let ele = document.getElementById('myDiv')</span></div><div><span>    ReactDOM.render(&lt;Form/&gt;,ele)</span></div><div><span>&lt;/script&gt;</span></div></div><br/></div><div><span><br/></span></div></span>
</div>
<hr>
<a name="1040"/>

<div>
<span><div><span style="font-weight: bold;">1、引出声明周期</span></div><div><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">在 React 中为我们提供了一些生命周期钩子函数，让我们能在 React 执行的重要阶段，在钩子函数中做一些事情</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 16px; color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;;">例如</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#24292F" face="-apple-system, BlinkMacSystemFont, Segoe UI, Noto Sans, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji">&lt;script type=&quot;text/babel&quot;&gt;</font></div><div><font color="#24292F" face="-apple-system, BlinkMacSystemFont, Segoe UI, Noto Sans, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji">    class Demo extends React.Component{</font></div><div><font color="#24292F" face="-apple-system, BlinkMacSystemFont, Segoe UI, Noto Sans, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji">        state={</font></div><div><font color="#24292F" face="-apple-system, BlinkMacSystemFont, Segoe UI, Noto Sans, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji">            opacity:1</font></div><div><font color="#24292F" face="-apple-system, BlinkMacSystemFont, Segoe UI, Noto Sans, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji">        }</font></div><div><font color="#24292F" face="-apple-system, BlinkMacSystemFont, Segoe UI, Noto Sans, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji">        destory=()=&gt;{</font></div><div><font color="#24292F" face="-apple-system, BlinkMacSystemFont, Segoe UI, Noto Sans, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji">            // 卸载组件</font></div><div><font style="font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; color: rgb(36, 41, 47);">            ReactDOM.unmountComponentAtNode(document.getElementById('myDiv'))</font></div><div><font color="#24292F" face="-apple-system, BlinkMacSystemFont, Segoe UI, Noto Sans, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji">        }</font></div><div><font color="#24292F" face="-apple-system, BlinkMacSystemFont, Segoe UI, Noto Sans, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji">        // 组件挂载完毕</font></div><div><font color="#24292F" face="-apple-system, BlinkMacSystemFont, Segoe UI, Noto Sans, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji">        componentDidMount(){</font></div><div><font color="#24292F" face="-apple-system, BlinkMacSystemFont, Segoe UI, Noto Sans, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji">            this.timer=setInterval(()=&gt;{</font></div><div><font color="#24292F" face="-apple-system, BlinkMacSystemFont, Segoe UI, Noto Sans, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji">                let {opacity} = this.state</font></div><div><font color="#24292F" face="-apple-system, BlinkMacSystemFont, Segoe UI, Noto Sans, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji">                opacity-=0.1</font></div><div><font color="#24292F" face="-apple-system, BlinkMacSystemFont, Segoe UI, Noto Sans, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji">                if(opacity&lt;=0) opacity=1</font></div><div><font color="#24292F" face="-apple-system, BlinkMacSystemFont, Segoe UI, Noto Sans, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji">                this.setState({opacity})</font></div><div><font color="#24292F" face="-apple-system, BlinkMacSystemFont, Segoe UI, Noto Sans, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji">            },200)</font></div><div><font color="#24292F" face="-apple-system, BlinkMacSystemFont, Segoe UI, Noto Sans, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji">        }</font></div><div><font color="#24292F" face="-apple-system, BlinkMacSystemFont, Segoe UI, Noto Sans, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji">        // 组件将要卸载</font></div><div><font color="#24292F" face="-apple-system, BlinkMacSystemFont, Segoe UI, Noto Sans, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji">        componentWillUnmount(){</font></div><div><font color="#24292F" face="-apple-system, BlinkMacSystemFont, Segoe UI, Noto Sans, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji">            clearInterval(this.timer)</font></div><div><font color="#24292F" face="-apple-system, BlinkMacSystemFont, Segoe UI, Noto Sans, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji">        }</font></div><div><font color="#24292F" face="-apple-system, BlinkMacSystemFont, Segoe UI, Noto Sans, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji">        // 初始化渲染 状态更新后</font></div><div><font color="#24292F" face="-apple-system, BlinkMacSystemFont, Segoe UI, Noto Sans, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji">        render() {</font></div><div><font color="#24292F" face="-apple-system, BlinkMacSystemFont, Segoe UI, Noto Sans, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji">            return(</font></div><div><font color="#24292F" face="-apple-system, BlinkMacSystemFont, Segoe UI, Noto Sans, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji">                &lt;div&gt;</font></div><div><font color="#24292F" face="-apple-system, BlinkMacSystemFont, Segoe UI, Noto Sans, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji">                    &lt;p style={{opacity:this.state.opacity}}&gt;aabbccdd&lt;/p&gt;</font></div><div><font color="#24292F" face="-apple-system, BlinkMacSystemFont, Segoe UI, Noto Sans, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji">                    &lt;button onClick={this.destory}&gt;清除组件&lt;/button&gt;</font></div><div><font color="#24292F" face="-apple-system, BlinkMacSystemFont, Segoe UI, Noto Sans, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji">                &lt;/div&gt;</font></div><div><font color="#24292F" face="-apple-system, BlinkMacSystemFont, Segoe UI, Noto Sans, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji">            )</font></div><div><font color="#24292F" face="-apple-system, BlinkMacSystemFont, Segoe UI, Noto Sans, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji">        }</font></div><div><font color="#24292F" face="-apple-system, BlinkMacSystemFont, Segoe UI, Noto Sans, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji">    }</font></div><div><font color="#24292F" face="-apple-system, BlinkMacSystemFont, Segoe UI, Noto Sans, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji">    ReactDOM.render(&lt;Demo /&gt;,document.getElementById('myDiv'))</font></div><div><font color="#24292F" face="-apple-system, BlinkMacSystemFont, Segoe UI, Noto Sans, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji">&lt;/script&gt;</font></div><div><font color="#24292F" face="-apple-system, BlinkMacSystemFont, Segoe UI, Noto Sans, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji"><br/></font></div></div><div><br/></div><div><span style="font-weight: bold;">2、react生命周期 （旧）</span></div><div><img src="REACT学习_files/Image.png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div>通过 修改状态（setState）与强制更新（forceUpdate）的声明周期</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&lt;script type=&quot;text/babel&quot;&gt;</div><div>    class Demo extends React.Component{</div><div>        // 构造器</div><div>        constructor(props){</div><div>            super(props)</div><div>            console.log('Demo-constructor')</div><div>            this.state={</div><div>                count:0</div><div>            }</div><div>        }</div><div>        // 组件将要挂载</div><div>        componentWillMount(){</div><div>            console.log('DEMO-componentWillMount')</div><div>        }</div><div>        // 组件挂载完毕</div><div>        componentDidMount(){</div><div>            console.log('Demo-componentDidMount')</div><div>        }</div><div>         // 组件将要卸载</div><div>         componentWillUnmount(){</div><div>            console.log('Demo-componentWillUnmount')</div><div>        }</div><div>        // 控制组件更新的‘阀门’</div><div>        shouldComponentUpdate(){</div><div>            console.log('Demo-shouldComponentUpdate')</div><div>            // 返回true 生命周期向下继续走</div><div>            // 返回false 就此停住不往下走</div><div>            return true</div><div><br/></div><div><br/></div><div>        }</div><div>        // 组件将要更新</div><div>        componentWillUpdate(){</div><div>            console.log('Demo-componentWillUpdate')</div><div>        }</div><div>        // 组件更新完毕</div><div>        componentDidUpdate(a,b){</div><div><span>    </span><span>    </span><span>    //a:之前传过来的props b：是state变化之前的值</span><br/></div><div>            console.log('Demo-componentDidUpdate',a,b)</div><div>        }</div><div>        // 卸载组件方法</div><div>        deth=()=&gt;{</div><div>            // 卸载组件</div><div>            ReactDOM.unmountComponentAtNode(document.getElementById('myDiv'))</div><div>        }</div><div>        // 强制更新组件方法</div><div>        force=()=&gt;{</div><div>            this.forceUpdate()</div><div>        }</div><div>        add=()=&gt;{</div><div>            let {count} = this.state</div><div>            this.setState({count:count+1})</div><div>        }</div><div>        // 初始化渲染 状态更新后</div><div>        render() {</div><div>            console.log('Demo-render')</div><div>            return(</div><div>                &lt;div&gt;</div><div>                   &lt;span&gt;{this.state.count}&lt;/span&gt;</div><div>                   &lt;button onClick={this.add}&gt;点击加1&lt;/button&gt;</div><div>                   &lt;button onClick={this.deth}&gt;卸载&lt;/button&gt;</div><div>                   &lt;button onClick={this.force}&gt;不更改任何状态中的数据，更新&lt;/button&gt;</div><div>                &lt;/div&gt;</div><div>            )</div><div>        }</div><div>    }</div><div>    ReactDOM.render(&lt;Demo /&gt;,document.getElementById('myDiv'))</div><div><br/></div><div><br/></div><div>&lt;/script&gt;</div></div><div>修改状态<img src="REACT学习_files/Image [1].png" type="image/png" data-filename="Image.png"/></div><div>强制更新<img src="REACT学习_files/Image [2].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div><span style="font-weight: bold;">3、父子组件，以及父向子传值，</span></div><div>子组件中 componentWillReceiveProps 钩子在初始化接收props参数的时候不会触发，再下一次接收参数的时候才会触发</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&lt;script type=&quot;text/babel&quot;&gt;</div><div>    class Father extends React.Component{</div><div>        state={</div><div>            name:'小明'</div><div>        }</div><div>        changeName=()=&gt;{</div><div>            let {name}=this.state</div><div>            this.setState({name: name==='小明'?'小王':'小明'})</div><div>        }</div><div>        render(){</div><div>            return(</div><div>                &lt;div&gt;</div><div>                    &lt;Son sonName={this.state.name}/&gt;</div><div>                    &lt;button onClick={this.changeName}&gt;换个名字&lt;/button&gt;</div><div>                &lt;/div&gt;</div><div>            )</div><div>        }</div><div>    }</div><div><br/></div><div>    class Son extends React.Component{</div><div>        // 组件将要接收新的props的钩子</div><div>        componentWillReceiveProps(props){</div><div>            console.log('son-componentWillReceiveProps')</div><div>            // 这里也能收到传的参数</div><div>            console.log(props)</div><div>        }</div><div>        render(){</div><div>            return &lt;h1&gt;{this.props.sonName}&lt;/h1&gt;</div><div>        }</div><div>    }</div><div>   </div><div>    ReactDOM.render(&lt;Father /&gt;,document.getElementById('myDiv'))</div><div>&lt;/script&gt;</div></div><div><br/></div><div><span style="font-weight: bold;">总结</span></div><div><br/></div><div><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">React 生命周期主要包括三个阶段：初始化阶段，更新阶段，销毁阶段 </span></div><div><span style="font-size: 16px; color: rgb(36, 41, 47);">初始化阶段--由ReactDOM.render触发</span></div><div><span style="font-size: 16px; color: rgb(36, 41, 47);">           1、</span><span style="font-size: 12pt; color: rgb(36, 41, 47);">constructor</span></div><div><span style="font-size: 12pt; color: rgb(36, 41, 47);">           2、</span><span style="font-size: 12pt; color: rgb(36, 41, 47);">componentWillMount</span></div><div><span style="font-size: 12pt; color: rgb(36, 41, 47);">           3、</span><span style="font-size: 12pt; color: rgb(36, 41, 47);">render</span></div><div><span style="font-size: 12pt; color: rgb(36, 41, 47);">           4、</span><span style="font-size: 12pt; color: rgb(36, 41, 47);">componentDidMount （常用，做初始化方法）</span></div><div><span style="font-size: 16px; color: rgb(36, 41, 47);">        </span></div><div><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">更新阶段  -- 由组件内部this.setState()或父组件重新render触发</span></div><div><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">             1、</span><span style="font-size: 12pt; color: rgb(36, 41, 47);">shouldComponentUpdate</span></div><div><span style="font-size: 12pt; color: rgb(36, 41, 47);">            2、</span><span style="font-size: 12pt; color: rgb(36, 41, 47);">componentWillUpdate</span></div><div><span style="font-size: 12pt; color: rgb(36, 41, 47);">            3、</span><span style="font-size: 12pt; color: rgb(36, 41, 47);">render  （必用）</span></div><div><span style="font-size: 12pt; color: rgb(36, 41, 47);">            4、</span><span style="font-size: 12pt; color: rgb(36, 41, 47);">componentDidUpdate</span></div><div><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">销毁阶段 -- 由</span><span style="color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;;"> ReactDOM.unmountComponentAtNode触发</span></div><div><span style="color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;;">                1、</span><span style="color: rgb(36, 41, 47);">componentWillUnmount （做一些收尾的工作，如关闭定时器等）</span></div><div><span style="font-size: 16px;"><br/></span></div></span>
</div>
<hr>
<a name="1048"/>

<div>
<span><div><div>react生命周期原理图（新）</div><div><br/></div><div><img src="REACT学习_files/Image [3].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div>新的生命周期，废弃componentWillMount、componentWillUpdate、componentWillReceiveProps。如果想使用这三个生命周期，请在前面添加unsafe_ </div><div><br/></div><div><span style="font-weight: bold;">1、新增钩子 </span><span style="font-size: 16px;"><span style="color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-size: 16px; font-weight: bold;">static getDerivedStateFromProps</span></span></div><div><br/></div><div><span style="background-color: rgb(255, 255, 255); font-size: 16px;"><span style="box-sizing: border-box; font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">这个是 React 新版本中新增的2个钩子之一，很少用。</span></span></div><div><span style="background-color: rgb(255, 255, 255); font-size: 16px;"><span style="box-sizing: border-box; font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><br/></span></span></div><div style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; font-size: 16px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 13.6px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: var(--color-neutral-muted); border-radius: 6px; color: rgb(36, 41, 47); font-family: ui-monospace, SFMono-Regular, &quot;SF Mono&quot;, Menlo, Consolas, &quot;Liberation Mono&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">    getDerivedStateFromProps</span><span style="box-sizing: border-box; font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">在初始化和更新中都会被调用，并且在</span><span style="box-sizing: border-box; font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; font-size: 13.6px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: var(--color-neutral-muted); border-radius: 6px; color: rgb(36, 41, 47); font-family: ui-monospace, SFMono-Regular, &quot;SF Mono&quot;, Menlo, Consolas, &quot;Liberation Mono&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">render</span><span style="box-sizing: border-box; font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">方法之前调用，它返回一个对象用来更新</span><span style="box-sizing: border-box; font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; font-size: 13.6px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: var(--color-neutral-muted); border-radius: 6px; color: rgb(36, 41, 47); font-family: ui-monospace, SFMono-Regular, &quot;SF Mono&quot;, Menlo, Consolas, &quot;Liberation Mono&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">state</span></div><div style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; font-size: 16px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 13.6px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: var(--color-neutral-muted); border-radius: 6px; color: rgb(36, 41, 47); font-family: ui-monospace, SFMono-Regular, &quot;SF Mono&quot;, Menlo, Consolas, &quot;Liberation Mono&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">    getDerivedStateFromProps</span><span style="box-sizing: border-box; font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">是类上直接绑定的静态（</span><span style="box-sizing: border-box; font-size: 13.6px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: var(--color-neutral-muted); border-radius: 6px; color: rgb(36, 41, 47); font-family: ui-monospace, SFMono-Regular, &quot;SF Mono&quot;, Menlo, Consolas, &quot;Liberation Mono&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">static</span><span style="box-sizing: border-box; font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">）方法，它接收两个参数</span><span style="box-sizing: border-box; font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; font-size: 13.6px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: var(--color-neutral-muted); border-radius: 6px; color: rgb(36, 41, 47); font-family: ui-monospace, SFMono-Regular, &quot;SF Mono&quot;, Menlo, Consolas, &quot;Liberation Mono&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">props</span><span style="box-sizing: border-box; font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">和</span><span style="box-sizing: border-box; font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; font-size: 13.6px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: var(--color-neutral-muted); border-radius: 6px; color: rgb(36, 41, 47); font-family: ui-monospace, SFMono-Regular, &quot;SF Mono&quot;, Menlo, Consolas, &quot;Liberation Mono&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">state</span></div><div style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; font-size: 16px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 13.6px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: var(--color-neutral-muted); border-radius: 6px; color: rgb(36, 41, 47); font-family: ui-monospace, SFMono-Regular, &quot;SF Mono&quot;, Menlo, Consolas, &quot;Liberation Mono&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">    props</span><span style="box-sizing: border-box; font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">是即将要替代</span><span style="box-sizing: border-box; font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; font-size: 13.6px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: var(--color-neutral-muted); border-radius: 6px; color: rgb(36, 41, 47); font-family: ui-monospace, SFMono-Regular, &quot;SF Mono&quot;, Menlo, Consolas, &quot;Liberation Mono&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">state</span><span style="box-sizing: border-box; font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">的值，而</span><span style="box-sizing: border-box; font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; font-size: 13.6px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: var(--color-neutral-muted); border-radius: 6px; color: rgb(36, 41, 47); font-family: ui-monospace, SFMono-Regular, &quot;SF Mono&quot;, Menlo, Consolas, &quot;Liberation Mono&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">state</span><span style="box-sizing: border-box; font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">是当前未替代前的值</span></div><div style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; font-size: 16px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">       若state的值在任何时候都取决于props，那么可以使用</span></div><div style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; font-size: 16px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="color: var(--color-fg-muted); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-size: 16px; font-variant-caps: normal; font-variant-ligatures: normal;">注意：</span><span style="background-color: var(--color-neutral-muted); font-size: 13.6px; border-radius: 6px; color: var(--color-fg-muted); font-family: ui-monospace, SFMono-Regular, &quot;SF Mono&quot;, Menlo, Consolas, &quot;Liberation Mono&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">state</span><span style="color: var(--color-fg-muted); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-size: 16px; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="color: var(--color-fg-muted); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-size: 16px; font-variant-caps: normal; font-variant-ligatures: normal;">的值在任何时候都取决于传入的</span><span style="color: var(--color-fg-muted); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-size: 16px; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="background-color: var(--color-neutral-muted); font-size: 13.6px; border-radius: 6px; color: var(--color-fg-muted); font-family: ui-monospace, SFMono-Regular, &quot;SF Mono&quot;, Menlo, Consolas, &quot;Liberation Mono&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">props</span><span style="color: var(--color-fg-muted); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-size: 16px; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="color: var(--color-fg-muted); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-size: 16px; font-variant-caps: normal; font-variant-ligatures: normal;">，不会再改变</span></div><div style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; font-size: 16px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><br/></div><div style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; font-size: 16px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>static getDerivedStateFromProps(props) {</div><div>    return props</div><div>}</div><div>ReactDOM.render(&lt;Count count=&quot;109&quot;/&gt;,document.querySelector('.test'))</div></div></div><div style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; font-size: 16px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 13.6px; background-color: var(--color-neutral-muted); border-radius: 6px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(36, 41, 47); font-family: ui-monospace, SFMono-Regular, &quot;SF Mono&quot;, Menlo, Consolas, &quot;Liberation Mono&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">count</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">的值不会改变，一直是 109</span></div><div style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; font-size: 16px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-size: 16px; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">2、新钩子 getSnapshotBeforeUpdate (不常用)</span></span></div><div style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; font-size: 16px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-size: 16px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">在最近一次的渲染输出之前被提交之前调用，也就是即将挂载时调用</span><br/></div><div style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; font-size: 16px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><br/></div><div style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; font-size: 16px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">//在更新前获取快照</span></div><div>getSnapshotBeforeUpdate(){</div><div><span>    console.log(</span>getSnapshotBeforeUpdate<span>)</span><br/></div><div><span><span>    return 'a'</span><br/></span></div><div>}</div><div>//preProps：修改前的prop值 preState：修改前的state值 snapshotValue：getSnapshotBeforeUpdate中return的值</div><div>componentDidUpdate(preProps,preState,snapshotValue){</div><div><span>    console.log('</span>componentDidUpdate<span>',</span>preProps,preState,snapshotValue<span>)</span><br/></div><div>}</div><div>ReactDOM.render(&lt;Count count=&quot;109&quot;/&gt;,document.querySelector('.test'))</div></div><br/></div><div style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; font-size: 16px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">getSnapshotBeforeUpdate 例子</span><br/></div><div style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; font-size: 16px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="color: rgb(36, 41, 47);">&lt;script type=&quot;text/babel&quot;&gt;</span></div><div><span style="color: rgb(36, 41, 47);">    class Demo extends React.Component{</span></div><div><span style="color: rgb(36, 41, 47);">        state={</span></div><div><span style="color: rgb(36, 41, 47);">            listArr:[]</span></div><div><span style="color: rgb(36, 41, 47);">        }</span></div><div><span style="color: rgb(36, 41, 47);"><br/></span></div><div><span style="color: rgb(36, 41, 47);"><br/></span></div><div><span style="color: rgb(36, 41, 47);">        componentDidMount(){</span></div><div><span style="color: rgb(36, 41, 47);">            this.timer = setInterval(()=&gt;{</span></div><div><span style="color: rgb(36, 41, 47);">                let item = '新闻'+(this.state.listArr.length+1)</span></div><div><span style="color: rgb(36, 41, 47);">                this.setState({listArr:[item,...this.state.listArr]})</span></div><div><span style="color: rgb(36, 41, 47);">            },2000)</span></div><div><span style="color: rgb(36, 41, 47);">        }</span></div><div><span style="color: rgb(36, 41, 47);">        getSnapshotBeforeUpdate(render){</span></div><div><span style="color: rgb(36, 41, 47);">            console.log(render)</span></div><div><span style="color: rgb(36, 41, 47);">            return this.list.scrollHeight</span></div><div><span style="color: rgb(36, 41, 47);">        }</span></div><div><span style="color: rgb(36, 41, 47);">        componentDidUpdate(preProps,preState,Snapshot){</span></div><div><span style="color: rgb(36, 41, 47);">            this.list.scrollTop += this.list.scrollHeight-Snapshot</span></div><div><span style="color: rgb(36, 41, 47);">        }</span></div><div><span style="color: rgb(36, 41, 47);"><br/></span></div><div><span style="color: rgb(36, 41, 47);"><br/></span></div><div><span style="color: rgb(36, 41, 47);">        render() {</span></div><div><span style="color: rgb(36, 41, 47);">            return (</span></div><div><span style="color: rgb(36, 41, 47);">                &lt;div&gt;</span></div><div><span style="color: rgb(36, 41, 47);">                    &lt;ul ref={c=&gt;this.list=c}&gt;</span></div><div><span style="color: rgb(36, 41, 47);">                        {</span></div><div><span style="color: rgb(36, 41, 47);">                            this.state.listArr.map((item,index)=&gt;{</span></div><div><span style="color: rgb(36, 41, 47);">                                return &lt;li key={index}&gt;{item}&lt;/li&gt;</span></div><div><span style="color: rgb(36, 41, 47);">                            })</span></div><div><span style="color: rgb(36, 41, 47);">                        }</span></div><div><span style="color: rgb(36, 41, 47);">                    &lt;/ul&gt;</span></div><div><span style="color: rgb(36, 41, 47);">                &lt;/div&gt;</span></div><div><span style="color: rgb(36, 41, 47);">            )</span></div><div><span style="color: rgb(36, 41, 47);">        }</span></div><div><span style="color: rgb(36, 41, 47);">    }</span></div><div><span style="color: rgb(36, 41, 47);">    // react18中已经废除ReactDOM.render 改为以下方式渲染</span></div><div><span style="color: rgb(36, 41, 47);">    const ele = document.getElementById('myDiv')</span></div><div><span style="color: rgb(36, 41, 47);">    const root = ReactDOM.createRoot(ele)</span></div><div><span style="color: rgb(36, 41, 47);">    root.render(&lt;Demo/&gt;)</span></div><div><span style="color: rgb(36, 41, 47);">&lt;/script&gt;</span></div></div><br/></div><div style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; font-size: 16px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><font style="color: rgb(36, 41, 47);"><b>新生命周期总结</b></font></div><div style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-size: 16px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-size: 16px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-weight: bold;">初始化</span></div><ul style="box-sizing: border-box; padding-left: 2em; margin-top: 0px; margin-bottom: 16px; color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-size: 16px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><li style="box-sizing: border-box;"><div>constructor()</div></li><li style="box-sizing: border-box; margin-top: 0.25em;"><div>static getDerivedStateFromProps()</div></li><li style="box-sizing: border-box; margin-top: 0.25em;"><div>render()  ===》常用</div></li><li style="box-sizing: border-box; margin-top: 0.25em;"><div>componentDidMount() ==》常用</div></li></ul><div style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-size: 16px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-size: 16px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-weight: bold;">更新</span></div><ul style="box-sizing: border-box; padding-left: 2em; margin-top: 0px; margin-bottom: 16px; color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-size: 16px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><li style="box-sizing: border-box;"><div>static getDerivedStateFromProps()</div></li><li style="box-sizing: border-box; margin-top: 0.25em;"><div>shouldComponentUpdate()</div></li><li style="box-sizing: border-box; margin-top: 0.25em;"><div>render()</div></li><li style="box-sizing: border-box; margin-top: 0.25em;"><div>getSnapshotBeforeUpdate()</div></li><li style="box-sizing: border-box; margin-top: 0.25em;"><div>componentDidUpdate() </div></li></ul><div style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-size: 16px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-size: 16px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-weight: bold;">销毁</span></div><ul style="box-sizing: border-box; padding-left: 2em; margin-top: 0px; margin-bottom: 16px; color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Noto Sans&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-size: 16px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><li style="box-sizing: border-box;"><div>componentWillUnmount() ===》常用</div></li></ul><div style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; font-size: 16px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><br/></div><div> </div><div>    </div></div></span>
</div></body></html> 